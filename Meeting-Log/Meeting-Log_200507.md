# Final project log(20.05.07)

> 다음 문서는 19.12.09~20.06.20까지 진행된 혁신성장 이미지 분석 AI 서비스 개발 실무 과정의 최종 프로젝트 진행 사항을 기록한 것이다.

## 목차

1. 금주 일정 공지사항
2. 프로젝트 진행사항
3. 해결해야 할 문제점
4. 추가 고려 사항
5. 이후 일정

## 0. 금주 일정 공지사항

> 일반적인 작업 진행 스케줄은 앞의 로그에 포함되어 있으므로 생략

- 5/9(토) : 멘토링 예정(담당 멘토: 김상인, 조영훈)

## 1. 프로젝트 진행 사항

[![캡처](https://user-images.githubusercontent.com/58945760/80307234-afdc8b80-8802-11ea-80a5-afb28bdfbb1f.PNG)](https://user-images.githubusercontent.com/58945760/80307234-afdc8b80-8802-11ea-80a5-afb28bdfbb1f.PNG)

1. 전체 데이터셋 취합

   1. 팀원들이 n개로 나누어 각자 모델링에 사용했던 데이터셋들을 하나로 통합(20.05.04)

   2. 총 데이터 수 약 6만 장(60,480 장)

   3. ```
      Memory error
      ```

      및

       

      ```
      train
      ```

       

      속도 문제,

       

      ```
      accuracy
      ```

      비교를 위해 데이터셋 세 개로 구축, 실험(20.05.06)

      1. 25,920 장(`class` 당 8,640 장)
      2. 34,560 장(`class` 당 11,520 장)
      3. 43,200 장(`class` 당 14,400 장)

2. 모델링

   > 전이학습을 기반으로 하며, 주 튜닝 모델은 MobileNetV2 이다.

   1. 하이퍼 파라미터 튜닝

      > 대체적으로 기쁨을 거의 분류하지 못하고(5%~15%), 무표정, 찡그림은 그보다 잘 분류하지만 정확도가 떨어진다.(45%~53%) 파라미터 튜닝 외에도 전체적인 정확도 상승을 위한 아이디어 필요

      1. `batch size`(64, 128, 256, 512)
      2. `epochs`(30)
      3. `dropout`(0.25~0.5)
      4. `train/val/test split`(6:2:2, 7:1.5:1.5, 8:1:1)
      5. `image size`(50*50, 80*80, 100*100, 150*150)

3. 프로젝트 [README.md](https://github.com/dannylee93/Emotion-Recognition/blob/master/README.md#emotion-recognition) 작성(20.04.13~, 진행중)

4. AWS 프리 티어를 이용한 웹 배포 논의 중

## 2. 해결해야 할 문제점

1. **모델 정확도 향상**(목표 평균 85% ↑ )

   1. `haar cascade`를 데이터 전체 적용하여 train
   2. train data 불균형 유도
   3. 데이터셋 정제(수작업, 분류가 애매한 데이터 제거)

2. 웹페이지에서 playlist 재생 시 **'동영상을 재생할 수 없음'** 메시지 해결

   [![message1](https://user-images.githubusercontent.com/58945760/80307257-ca166980-8802-11ea-8e6a-f917c083a75a.PNG)](https://user-images.githubusercontent.com/58945760/80307257-ca166980-8802-11ea-8e6a-f917c083a75a.PNG)

   1. message 1 : 'Youtube에서 동영상을 시청하세요.' 동영상 소유자가 다른 웹사이트에서 재생할 수 없도록 설정했습니다.

      [![message2](https://user-images.githubusercontent.com/58945760/80307311-2d080080-8803-11ea-9b75-02cd9c5c9398.PNG)](https://user-images.githubusercontent.com/58945760/80307311-2d080080-8803-11ea-9b75-02cd9c5c9398.PNG)

   2. message 2 : 동영상을 재생할 수 없음

3. **전체 데이터셋을 모두 사용할 경우(이미지 사이즈 100\*100) AWS에서 Memoryerror 발생**

## 3. 추가 고려 사항

1. 결과물 산출 후 웹 페이지 검증 방법, 기준
2. 분류 모델 알고리즘 검증 방법, 기준
3. 개발 목적 대한 논의 및 문서화(통계 포함)
4. 웹페이지 배포 툴 선택
   1. python anywhere는 용량 제한이 있고 속도가 느린 단점이 있음
   2. AWS 프리 티어를 비롯한 다른 툴들도 고민해볼 필요가 있음

## 4. 이후 일정

1. 5/2(토)~6/20(금)
   1. **5/1~5/9 : 웹페이지 마무리 작업, 웹페이지 배포 test 및 공부 + 모델링 보완**
   2. 5/11~5/16: 음악 추천 알고리즘 구성, 감정 분류 모델링 보완
   3. 5/16: 중간발표
   4. 5/18~5/23: 음악 추천 알고리즘 구성, 감정 분류 모델링 보완
      1. 5/20~6/7 : 최종 프로젝트 ppt 제작(이동규)
   5. 5/23~5/30 : 배포 및 베타 테스트
   6. 6/1~6/7 : 문서 정리 및 서류 작업(이하 중요 문서)
      1. Readme.md
      2. 최종 프로젝트 ppt
      3. 프로젝트 계획서
      4. 원본 소스코드
      5. 최종 결과보고서
      6. github repository 정리
   7. 6/8~6/19 : 카카오 아레나 및 데이콘 준비